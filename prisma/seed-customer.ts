import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

export async function main() {
  console.log('ðŸ‘¥ Báº¯t Ä‘áº§u seed dá»¯ liá»‡u KhÃ¡ch hÃ ng (Customers)...');

  await prisma.customer.deleteMany({});

  const customers = [
    // ========== NHÃ“M 1: Äáº I LÃ Cáº¤P 1 (Distributor) ==========
    {
      customerCode: 'KH-DL-DONGTHAP-001',
      customerName: 'Äáº¡i lÃ½ PhÃ¢n bÃ³n Táº¥n PhÃ¡t',
      customerType: 'company',
      classification: 'distributor',
      contactPerson: 'Ã”ng Nguyá»…n VÄƒn Táº¥n',
      phone: '0918123456',
      email: 'tanphat.daily@gmail.com',
      address: '123 Quá»‘c lá»™ 30, PhÆ°á»ng 1',
      province: 'Äá»“ng ThÃ¡p',
      district: 'TP. Cao LÃ£nh',
      taxCode: '1200567890',
      creditLimit: 500000000, // 500 triá»‡u
      currentDebt: 125000000,
      status: 'active',
      notes: 'Äáº¡i lÃ½ chiáº¿n lÆ°á»£c khu vá»±c Äá»“ng ThÃ¡p. Mua sá»‘ lÆ°á»£ng lá»›n, thanh toÃ¡n Ä‘Ãºng háº¡n.',
    },
    {
      customerCode: 'KH-DL-CANTHO-001',
      customerName: 'Cá»­a hÃ ng NÃ´ng sáº£n Cá»­u Long',
      customerType: 'company',
      classification: 'distributor',
      contactPerson: 'BÃ  Tráº§n Thá»‹ Há»“ng',
      phone: '0907234567',
      email: 'cuulongnongsan@yahoo.com',
      address: '456 ÄÆ°á»ng 30/4, PhÆ°á»ng HÆ°ng Lá»£i',
      province: 'Cáº§n ThÆ¡',
      district: 'Quáº­n Ninh Kiá»u',
      taxCode: '0309876543',
      creditLimit: 400000000,
      currentDebt: 180000000,
      status: 'active',
      notes: 'Äáº¡i lÃ½ lá»›n táº¡i Cáº§n ThÆ¡. ChuyÃªn phÃ¢n phá»‘i cho cÃ¡c vÆ°á»n trÃ¡i cÃ¢y á»Ÿ ÄBSCL.',
    },
    {
      customerCode: 'KH-DL-ANGIANG-001',
      customerName: 'CÃ´ng ty TNHH NÃ´ng nghiá»‡p BÃ¬nh Minh',
      customerType: 'company',
      classification: 'distributor',
      contactPerson: 'Ã”ng LÃª VÄƒn Minh',
      phone: '0919345678',
      email: 'binhminhnongsan@gmail.com',
      address: 'áº¤p BÃ¬nh HÃ²a, XÃ£ Long HÃ²a',
      province: 'An Giang',
      district: 'Huyá»‡n PhÃº TÃ¢n',
      taxCode: '0901234567',
      creditLimit: 350000000,
      currentDebt: 95000000,
      status: 'active',
      notes: 'PhÃ¢n phá»‘i chÃ­nh cho khu vá»±c trá»“ng lÃºa An Giang.',
    },
    {
      customerCode: 'KH-DL-VINHLONG-001',
      customerName: 'Äáº¡i lÃ½ Váº­t tÆ° NÃ´ng nghiá»‡p Thanh BÃ¬nh',
      customerType: 'company',
      classification: 'distributor',
      contactPerson: 'Ã”ng VÃµ Thanh BÃ¬nh',
      phone: '0903456789',
      email: 'thanhbinh.daily@gmail.com',
      address: '789 Quá»‘c lá»™ 1A, PhÆ°á»ng 1',
      province: 'VÄ©nh Long',
      district: 'TP. VÄ©nh Long',
      taxCode: '1400123456',
      creditLimit: 300000000,
      currentDebt: 75000000,
      status: 'active',
      notes: 'Äáº¡i lÃ½ uy tÃ­n, thÆ°á»ng xuyÃªn tham gia cÃ¡c buá»•i há»™i tháº£o ká»¹ thuáº­t.',
    },

    // ========== NHÃ“M 2: Äáº I LÃ Cáº¤P 2 / MUA Sá»ˆ (Wholesale) ==========
    {
      customerCode: 'KH-SI-DONGTHAP-002',
      customerName: 'Cá»­a hÃ ng PhÃ¢n bÃ³n NÃ´ng LÃ¢m',
      customerType: 'company',
      classification: 'wholesale',
      contactPerson: 'Anh Nguyá»…n Há»¯u LÃ¢m',
      phone: '0918777888',
      email: 'nonglam.ch@gmail.com',
      address: '234 QL 80, PhÆ°á»ng Má»¹ PhÃº',
      province: 'Äá»“ng ThÃ¡p',
      district: 'TP. Cao LÃ£nh',
      taxCode: '1200678901',
      creditLimit: 150000000,
      currentDebt: 45000000,
      status: 'active',
      notes: 'Mua sá»‰ thÆ°á»ng xuyÃªn, phá»¥c vá»¥ nÃ´ng dÃ¢n khu vá»±c.',
    },
    {
      customerCode: 'KH-SI-CANTHO-002',
      customerName: 'CH Váº­t tÆ° NÃ´ng nghiá»‡p TÃ¢n Tiáº¿n',
      customerType: 'company',
      classification: 'wholesale',
      contactPerson: 'Chá»‹ Pháº¡m Thá»‹ TÃ¢n',
      phone: '0906123789',
      email: 'tantien.vtnn@gmail.com',
      address: '567 Tráº§n PhÃº, PhÆ°á»ng TÃ¢n An',
      province: 'Cáº§n ThÆ¡',
      district: 'Quáº­n Ninh Kiá»u',
      taxCode: '0309123456',
      creditLimit: 120000000,
      currentDebt: 38000000,
      status: 'active',
      notes: 'ChuyÃªn cung cáº¥p cho cÃ¡c vÆ°á»n rau mÃ u khu vá»±c CÃ¡i RÄƒng.',
    },
    {
      customerCode: 'KH-SI-HAUGIANG-001',
      customerName: 'Cá»­a hÃ ng PhÃ¢n bÃ³n Háº­u Giang',
      customerType: 'company',
      classification: 'wholesale',
      contactPerson: 'Ã”ng Tráº§n VÄƒn Háº­u',
      phone: '0917888999',
      email: 'haugiang.pb@yahoo.com',
      address: '123 Tráº§n HÆ°ng Äáº¡o, PhÆ°á»ng V',
      province: 'Háº­u Giang',
      district: 'TP. Vá»‹ Thanh',
      taxCode: '0951234567',
      creditLimit: 100000000,
      currentDebt: 25000000,
      status: 'active',
      notes: 'KhÃ¡ch hÃ ng má»›i, tiá»m nÄƒng phÃ¡t triá»ƒn tá»‘t.',
    },

    // ========== NHÃ“M 3: KHÃCH HÃ€NG VIP (Trang tráº¡i/Há»£p tÃ¡c xÃ£) ==========
    {
      customerCode: 'KH-VIP-CANTHO-001',
      customerName: 'HTX NÃ´ng nghiá»‡p Há»¯u cÆ¡ CÃ¡i RÄƒng',
      customerType: 'company',
      classification: 'vip',
      contactPerson: 'Ã”ng Nguyá»…n VÄƒn HoÃ ng',
      phone: '0909111222',
      email: 'htx.cairang@gmail.com',
      address: 'áº¤p Má»¹ KhÃ¡nh, XÃ£ Thá»›i An ÄÃ´ng',
      province: 'Cáº§n ThÆ¡',
      district: 'Quáº­n CÃ¡i RÄƒng',
      taxCode: '0309987654',
      creditLimit: 200000000,
      currentDebt: 55000000,
      status: 'active',
      notes:
        'HTX vá»›i 150 thÃ nh viÃªn. ChuyÃªn trá»“ng rau mÃ u há»¯u cÆ¡. Cáº§n tÆ° váº¥n ká»¹ thuáº­t thÆ°á»ng xuyÃªn.',
    },
    {
      customerCode: 'KH-VIP-DONGTHAP-002',
      customerName: 'Trang tráº¡i TrÃ¡i cÃ¢y XuÃ¢n Lá»™c',
      customerType: 'company',
      classification: 'vip',
      contactPerson: 'Ã”ng LÃª XuÃ¢n Lá»™c',
      phone: '0918333444',
      email: 'xuanloc.farm@gmail.com',
      address: 'áº¤p 3, XÃ£ TÃ¢n ThÃ nh',
      province: 'Äá»“ng ThÃ¡p',
      district: 'Huyá»‡n TÃ¢n Há»“ng',
      taxCode: '1201111222',
      creditLimit: 180000000,
      currentDebt: 62000000,
      status: 'active',
      notes: 'Trang tráº¡i 20ha trá»“ng xoÃ i, nhÃ£n. KhÃ¡ch VIP, luÃ´n mua sáº£n pháº©m cao cáº¥p.',
    },
    {
      customerCode: 'KH-VIP-VINHLONG-002',
      customerName: 'VÆ°á»n ChÃ´m ChÃ´m ThiÃªn PhÃºc',
      customerType: 'individual',
      classification: 'vip',
      gender: 'male',
      contactPerson: 'Ã”ng Nguyá»…n ThiÃªn PhÃºc',
      phone: '0903555666',
      email: 'thienphuc.chomchom@gmail.com',
      address: 'áº¤p TÃ¢n Lá»£i, XÃ£ TÃ¢n An Há»™i',
      province: 'VÄ©nh Long',
      district: 'Huyá»‡n BÃ¬nh TÃ¢n',
      taxCode: null,
      creditLimit: 80000000,
      currentDebt: 15000000,
      status: 'active',
      notes: 'VÆ°á»n chÃ´m chÃ´m 5ha xuáº¥t kháº©u. Hay tham dá»± há»™i tháº£o, giá»›i thiá»‡u khÃ¡ch má»›i.',
    },

    // ========== NHÃ“M 4: KHÃCH Láºº (NÃ´ng dÃ¢n cÃ¡ nhÃ¢n) ==========
    {
      customerCode: 'KH-LE-CANTHO-001',
      customerName: 'Anh Nguyá»…n VÄƒn NÄƒm',
      customerType: 'individual',
      classification: 'retail',
      gender: 'male',
      phone: '0918666777',
      email: null,
      address: 'áº¤p 2, XÃ£ Phong Äiá»n',
      province: 'Cáº§n ThÆ¡',
      district: 'Huyá»‡n Phong Äiá»n',
      taxCode: null,
      creditLimit: 5000000,
      currentDebt: 1200000,
      status: 'active',
      notes: 'Trá»“ng 2ha rau mÃ u. Mua láº» thÆ°á»ng xuyÃªn.',
    },
    {
      customerCode: 'KH-LE-DONGTHAP-003',
      customerName: 'Chá»‹ Tráº§n Thá»‹ SÃ¡u',
      customerType: 'individual',
      classification: 'retail',
      gender: 'female',
      phone: '0907888999',
      email: null,
      address: 'áº¤p BÃ¬nh An, XÃ£ Má»¹ An',
      province: 'Äá»“ng ThÃ¡p',
      district: 'Huyá»‡n ThÃ¡p MÆ°á»i',
      taxCode: null,
      creditLimit: 3000000,
      currentDebt: 850000,
      status: 'active',
      notes: 'VÆ°á»n nhÃ£n 1.5ha. KhÃ¡ch hÃ ng trung thÃ nh.',
    },
    {
      customerCode: 'KH-LE-ANGIANG-002',
      customerName: 'Ã”ng VÃµ VÄƒn Báº£y',
      customerType: 'individual',
      classification: 'retail',
      gender: 'male',
      phone: '0919222333',
      email: null,
      address: 'áº¤p 4, XÃ£ BÃ¬nh PhÆ°á»›c',
      province: 'An Giang',
      district: 'Huyá»‡n ChÃ¢u PhÃº',
      taxCode: null,
      creditLimit: 4000000,
      currentDebt: 0,
      status: 'active',
      notes: 'Trá»“ng lÃºa 3ha. Thanh toÃ¡n tiá»n máº·t ngay.',
    },
    {
      customerCode: 'KH-LE-HAUGIANG-002',
      customerName: 'Anh LÃª VÄƒn TÃ¡m',
      customerType: 'individual',
      classification: 'retail',
      gender: 'male',
      phone: '0906444555',
      email: 'letam.farmer@gmail.com',
      address: 'áº¤p HÃ²a BÃ¬nh, XÃ£ Long Má»¹',
      province: 'Háº­u Giang',
      district: 'Huyá»‡n Phá»¥ng Hiá»‡p',
      taxCode: null,
      creditLimit: 5000000,
      currentDebt: 1500000,
      status: 'active',
      notes: 'Trá»“ng á»›t 1ha. ThÆ°á»ng há»i tÆ° váº¥n ká»¹ thuáº­t qua Ä‘iá»‡n thoáº¡i.',
    },
    {
      customerCode: 'KH-LE-VINHLONG-003',
      customerName: 'Chá»‹ Nguyá»…n Thá»‹ ChÃ­n',
      customerType: 'individual',
      classification: 'retail',
      gender: 'female',
      phone: '0917666888',
      email: null,
      address: 'áº¤p 1, XÃ£ TÃ¢n Há»™i',
      province: 'VÄ©nh Long',
      district: 'Huyá»‡n VÅ©ng LiÃªm',
      taxCode: null,
      creditLimit: 3000000,
      currentDebt: 500000,
      status: 'active',
      notes: 'VÆ°á»n rau sáº¡ch 0.5ha. Mua Ã­t nhÆ°ng Ä‘á»u Ä‘áº·n.',
    },

    // ========== NHÃ“M 5: KHÃCH HÃ€NG Äáº¶C BIá»†T ==========
    {
      customerCode: 'KH-DL-TPHCM-001',
      customerName: 'CÃ´ng ty CP NÃ´ng nghiá»‡p CÃ´ng nghá»‡ cao SÃ i GÃ²n',
      customerType: 'company',
      classification: 'distributor',
      contactPerson: 'Mr. David Nguyá»…n',
      phone: '0908999888',
      email: 'david.nguyen@saigonagritech.com',
      address: '555 Äiá»‡n BiÃªn Phá»§, PhÆ°á»ng 25, Quáº­n BÃ¬nh Tháº¡nh',
      province: 'TP. Há»“ ChÃ­ Minh',
      district: 'Quáº­n BÃ¬nh Tháº¡nh',
      taxCode: '0312345678',
      creditLimit: 800000000,
      currentDebt: 320000000,
      status: 'active',
      notes: 'Äáº¡i lÃ½ lá»›n nháº¥t khu vá»±c phÃ­a Nam. CÃ³ há»‡ thá»‘ng nhÃ  phÃ¢n phá»‘i rá»™ng kháº¯p.',
    },
    {
      customerCode: 'KH-VIP-BENTRE-001',
      customerName: 'VÆ°á»n Dá»«a XiÃªm Báº¿n Tre',
      customerType: 'company',
      classification: 'vip',
      contactPerson: 'Ã”ng Tráº§n VÄƒn Dá»«a',
      phone: '0919777888',
      email: 'duaxiem.bentre@gmail.com',
      address: 'áº¤p PhÃº Lá»£i, XÃ£ PhÃº Äá»©c',
      province: 'Báº¿n Tre',
      district: 'Huyá»‡n ChÃ¢u ThÃ nh',
      taxCode: '0801234567',
      creditLimit: 150000000,
      currentDebt: 42000000,
      status: 'active',
      notes: 'VÆ°á»n dá»«a xiÃªm 30ha. Xuáº¥t kháº©u sang Trung Quá»‘c, ThÃ¡i Lan.',
    },
    {
      customerCode: 'KH-SI-TRAVINH-001',
      customerName: 'Há»£p tÃ¡c xÃ£ Thanh Long TrÃ  Vinh',
      customerType: 'company',
      classification: 'wholesale',
      contactPerson: 'BÃ  Huá»³nh Thá»‹ Mai',
      phone: '0903222111',
      email: 'htx.thanhlong.tv@gmail.com',
      address: 'áº¤p 3, XÃ£ Thanh SÆ¡n',
      province: 'TrÃ  Vinh',
      district: 'Huyá»‡n Tiá»ƒu Cáº§n',
      taxCode: '0851234567',
      creditLimit: 120000000,
      currentDebt: 28000000,
      status: 'active',
      notes: 'HTX thanh long 80 thÃ nh viÃªn. Mua sá»‘ lÆ°á»£ng lá»›n má»—i Ä‘áº§u vá»¥.',
    },

    // ========== KHÃCH HÃ€NG INACTIVE/BLACKLIST (VÃ­ dá»¥) ==========
    {
      customerCode: 'KH-LE-CANTHO-999',
      customerName: 'Anh Nguyá»…n VÄƒn X',
      customerType: 'individual',
      classification: 'retail',
      gender: 'male',
      phone: '0918000111',
      email: null,
      address: 'Äá»‹a chá»‰ cÅ© khÃ´ng cÃ²n',
      province: 'Cáº§n ThÆ¡',
      district: 'Quáº­n Ninh Kiá»u',
      taxCode: null,
      creditLimit: 0,
      currentDebt: 8500000,
      status: 'blacklisted',
      notes: 'Cáº¢NH BÃO: Ná»£ quÃ¡ háº¡n 6 thÃ¡ng, khÃ´ng liÃªn láº¡c Ä‘Æ°á»£c. KhÃ´ng bÃ¡n ná»£.',
    },
  ];

  for (const customer of customers) {
    const data = {
      ...customer,
      customerType: customer.customerType as 'individual' | 'company',
      classification: customer.classification as 'retail' | 'wholesale' | 'vip' | 'distributor',
      gender: customer.gender as 'male' | 'female' | 'other' | null,
      status: customer.status as 'active' | 'inactive' | 'blacklisted',
    };

    await prisma.customer.upsert({
      where: { customerCode: customer.customerCode },
      update: data,
      create: data,
    });
  }

  console.log(`âœ… ÄÃ£ seed xong ${customers.length} khÃ¡ch hÃ ng!`);
  console.log(`
ðŸ“Š Thá»‘ng kÃª:
   - Äáº¡i lÃ½ phÃ¢n phá»‘i (Distributor): ${
     customers.filter((c) => c.classification === 'distributor').length
   }
   - KhÃ¡ch sá»‰ (Wholesale): ${customers.filter((c) => c.classification === 'wholesale').length}
   - KhÃ¡ch VIP (Trang tráº¡i/HTX): ${customers.filter((c) => c.classification === 'vip').length}
   - KhÃ¡ch láº» (NÃ´ng dÃ¢n): ${customers.filter((c) => c.classification === 'retail').length}
   - Blacklist: ${customers.filter((c) => c.status === 'blacklisted').length}
  `);
}

main()
  .catch((e) => {
    console.error('âŒ Lá»—i khi seed customers:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
